package com.example.UquReader.util;

import com.example.UquReader.model.FeatureMetadata;

import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class GrammarResources {
    private static final Map<String, String[]> POS_MAP = new HashMap<>();
    private static final Map<String, FeatureMetadata> FEATURE_MAP = new HashMap<>();

    static {
        POS_MAP.put("V", new String[]{"фигыль", "глагол"});
        POS_MAP.put("N", new String[]{"исем", "существительное"});
        POS_MAP.put("Adj", new String[]{"сыйфат", "прилагательное"});
        POS_MAP.put("Adv", new String[]{"рәвеш", "наречие"});
        POS_MAP.put("Num", new String[]{"сан", "числительное"});
        POS_MAP.put("PN", new String[]{"алмаш", "местоимение"});
        POS_MAP.put("CNJ", new String[]{"теркәгеч", "союз"});
        POS_MAP.put("INTRJ", new String[]{"өстәмә сүз", "междометие"});
        POS_MAP.put("MOD", new String[]{"модаль сүз", "модальное слово"});
        POS_MAP.put("PART", new String[]{"киңәйтүче кисәкчә", "частица"});
        POS_MAP.put("PROP", new String[]{"фонема", "имя собственное"});
        POS_MAP.put("POST", new String[]{"послелог", "послелог"});

        addFeature("1PL", "окончание 1-го лица множественного числа", "беренче зат күплек саны",
                "Показывает, что действие выполняется говорящим и другими лицами.",
                Arrays.asList("-быз", "-без"),
                Arrays.asList("Без җырлыйбыз — Мы поём."));

        addFeature("1SG", "окончание 1-го лица единственного числа", "беренче зат берлек саны",
                "Указывает на говорящего как на исполнителя действия.",
                Arrays.asList("-м", "-мын", "-мен"),
                Arrays.asList("Мин килдем — Я пришёл."));

        addFeature("2PL", "окончание 2-го лица множественного числа", "икенче зат күплек саны",
                "Используется при обращении к нескольким собеседникам или вежливой форме.",
                Arrays.asList("-сыз", "-сез"),
                Arrays.asList("Сез язасыз — Вы пишете."));

        addFeature("2SG", "окончание 2-го лица единственного числа", "икенче зат берлек саны",
                "Показывает, что действие относится к адресату.",
                Arrays.asList("-сың", "-сең"),
                Arrays.asList("Син язасың — Ты пишешь."));

        addFeature("3PL", "окончание 3-го лица множественного числа", "өченче зат күплек саны",
                "Обозначает действие нескольких лиц, не являющихся собеседниками.",
                Arrays.asList("-лар", "-ләр"),
                Arrays.asList("Алар килделәр — Они пришли."));

        addFeature("ABL", "аффикс исходного падежа", "чыгыш килеше",
                "Обозначает точку отправления или источник действия.",
                Arrays.asList("-дан", "-дән", "-тан", "-тән", "-нан", "-нән"),
                Arrays.asList("Казаннан кайттым — Я вернулся из Казани."));

        addFeature("ACC", "аффикс винительного падежа", "төшем килеше",
                "Указывает на прямое дополнение — объект действия.",
                Arrays.asList("-ны", "-не", "-нı", "-нe"),
                Arrays.asList("Китапны укыдым — Я прочитал книгу."));

        addFeature("ADVV_ACC", "деепричастие следствия (-ып/-еп)", "-ып/-еп хәл фигыль",
                "Связывает основное действие с предыдущим действием, выполняемым одновременно или сразу перед ним.",
                Arrays.asList("-ып", "-еп", "-п"),
                Arrays.asList("Елмаеп сөйләде — Улыбаясь, говорил."));

        addFeature("ADVV_ANT", "деепричастие предшествования", "-гач/-гәч хәл фигыль",
                "Показывает действие, которое произошло раньше основного.",
                Arrays.asList("-гач", "-гәч", "-кач", "-кеч"),
                Arrays.asList("Килгәч сөйләштек — Когда он пришёл, мы поговорили."));

        addFeature("ATTR_GEN", "притяжательный постфикс 'чей'", "-ныкы/-неке атрибут",
                "Образует притяжательную форму, указывая на принадлежность.",
                Arrays.asList("-ныкы", "-неке", "-ныкі", "-неке"),
                Arrays.asList("Минеке түгел — Это не моё."));

        addFeature("ATTR_MUN", "прилагательное со значением обладания", "-лы/-ле сыйфат",
                "Обозначает наличие признака у предмета.",
                Arrays.asList("-лы", "-ле", "-лы"),
                Arrays.asList("баллы су — вода с мёдом."));

        addFeature("CAUS", "каузатив", "сәбәп фигыль кушымчасы",
                "Показывает, что субъект заставляет выполнить действие.",
                Arrays.asList("-дыр", "-дер", "-тыр", "-тер"),
                Arrays.asList("Укытучы укыттырды — Учитель заставил учить."));

        addFeature("COND", "условное наклонение", "шарт фигыль",
                "Указывает на условие, при котором произойдёт действие.",
                Arrays.asList("-са", "-сә"),
                Arrays.asList("Язсаң — если напишешь."));

        addFeature("DIR", "аффикс дательного падежа", "юнәлеш килеше",
                "Обозначает направление или адресата действия.",
                Arrays.asList("-га", "-гә", "-ка", "-кә", "-на", "-нә"),
                Arrays.asList("Авылга барам — Еду в деревню."));

        addFeature("FUT_INDF", "неопределённое будущее", "киләчәк заман (билгесез)",
                "Выражает вероятное будущее действие.",
                Arrays.asList("-ыр", "-ер", "-ар", "-әр"),
                Arrays.asList("Язармын — Возможно, напишу."));

        addFeature("GEN", "аффикс родительного падежа", "иялек килеше",
                "Указывает на принадлежность или зависимость.",
                Arrays.asList("-ның", "-нең", "-ның", "-нең"),
                Arrays.asList("Китабымның битләре — Страницы моей книги."));

        addFeature("HOR_SG", "первое лицо желательного наклонения", "теләк фигыль (берлек)",
                "Указывает на намерение говорящего совершить действие.",
                Arrays.asList("-ыйм", "-им", "-ам", "-әм"),
                Arrays.asList("Барамыйм — Пусть я пойду."));

        addFeature("IMP_SG", "повелительное наклонение (2 л. ед.)", "боерык фигыль (берлек)",
                "Повеление одному адресату. Часто выражается нулевым окончанием.",
                Arrays.asList("Ø", "-гын", "-гыз"),
                Arrays.asList("Кил! — Приди!"));

        addFeature("INF_1", "инфинитив на -ырга/-ергә", "-ырга/-ергә инфинитив",
                "Обозначает неопределённую форму глагола.",
                Arrays.asList("-ырга", "-ергә", "-арга", "-әргә"),
                Arrays.asList("Укырга кирәк — Нужно учиться."));

        addFeature("INF_2", "инфинитив на -мак/-мәк", "-мак/-мәк инфинитив",
                "Книжная форма инфинитива, часто образует существительные.",
                Arrays.asList("-мак", "-мәк"),
                Arrays.asList("Укымак яхшы — Читать полезно."));

        addFeature("INT", "вопросительная частица", "сорау кисәкчәсе",
                "Добавляет вопросительную интонацию.",
                Arrays.asList("-мы", "-ме", "-мы", "-ме"),
                Arrays.asList("Ярыймы? — Можно?"));

        addFeature("INT_MIR", "вопросительно-удивительная частица", "гаҗәпләнү сорау кисәкчәсе",
                "Выражает вопрос с оттенком удивления или сомнения.",
                Arrays.asList("-мыни", "-мени"),
                Arrays.asList("Бу синме ни? — Неужели это ты?"));

        addFeature("JUS_SG", "пожелательное наклонение (3 л.)", "теләк фигыль (өченче зат)",
                "Выражает пожелание, чтобы действие совершил другой субъект.",
                Arrays.asList("-сын", "-сен"),
                Arrays.asList("Килсен — Пусть придёт."));

        addFeature("LOC", "аффикс местного падежа", "урын-вакыт килеше",
                "Указывает на место или время действия.",
                Arrays.asList("-да", "-дә", "-та", "-тә", "-нда", "-ндә"),
                Arrays.asList("Өйдә калдым — Остался дома."));

        addFeature("NEG", "отрицательная морфема", "кирү фигыль",
                "Отрицает действие глагола.",
                Arrays.asList("-ма", "-мә", "-мый", "-ми"),
                Arrays.asList("Язмадым — Не писал."));

        addFeature("NUM_ORD", "суффикс порядковых числительных", "тартип сан кушымчасы",
                "Образует порядковые числительные.",
                Arrays.asList("-ынчы", "-енче"),
                Arrays.asList("Икенче көн — Второй день."));

        addFeature("Nom", "именительный падеж", "атау килеше",
                "Базовая форма существительного без окончания.",
                Arrays.asList("Ø"),
                Arrays.asList("Кыз көлде — Девочка смеялась."));

        addFeature("OBL", "облигатив (долженствование)", "кирәк фигыль",
                "Выражает необходимость или обязанность.",
                Arrays.asList("-йсы", "-йсе"),
                Arrays.asList("Барасың — Ты должен идти."));

        addFeature("PASS", "страдательный залог", "ясау фигыль",
                "Переносит действие на объект, делая его подлежащим.",
                Arrays.asList("-ыл", "-ел", "-н"),
                Arrays.asList("Ишек ябылды — Дверь закрылась."));

        addFeature("PCP_FUT", "причастие будущего времени", "киләчәк заман хәле",
                "Обозначает признак, относящийся к будущему действию.",
                Arrays.asList("-ачак", "-әчәк", "-ыр", "-ер"),
                Arrays.asList("Укыйчак бала — Ребёнок, который будет учиться."));

        addFeature("PCP_PS", "причастие прошедшего времени", "үткән заман хәле",
                "Характеризует предмет по совершённому действию.",
                Arrays.asList("-ган", "-гән", "-кан", "-кән"),
                Arrays.asList("Язган кеше — Человек, который писал."));

        addFeature("PL", "суффикс множественного числа", "күплек сан",
                "Обозначает множественность предметов.",
                Arrays.asList("-лар", "-ләр"),
                Arrays.asList("Дуслар килде — Пришли друзья."));

        addFeature("POSS_1SG", "притяжательный суффикс 1 л. ед.", "беренче зат берлек милек",
                "Указывает на принадлежность говорящему.",
                Arrays.asList("-ым", "-ем", "-м"),
                Arrays.asList("Китабым — Моя книга."));

        addFeature("POSS_2PL", "притяжательный суффикс 2 л. мн.", "икенче зат күплек милек",
                "Обозначает принадлежность адресатам во множественном числе.",
                Arrays.asList("-ыгыз", "-егез"),
                Arrays.asList("Сорауларыгыз — Ваши вопросы."));

        addFeature("POSS_2SG", "притяжательный суффикс 2 л. ед.", "икенче зат берлек милек",
                "Указывает на принадлежность собеседнику.",
                Arrays.asList("-ың", "-ең"),
                Arrays.asList("Кулың — Твоя рука."));

        addFeature("POSS_3", "притяжательный суффикс 3 л.", "өченче зат милек",
                "Показывает принадлежность третьему лицу.",
                Arrays.asList("-ы", "-е", "-сы", "-се"),
                Arrays.asList("Йорты — Его дом."));

        addFeature("PRES", "настоящее-вневременное время", "хәзерге заман",
                "Обозначает действие, происходящее сейчас или регулярно.",
                Arrays.asList("-а", "-ә", "-ый", "-ий", "-й"),
                Arrays.asList("Утыра — Он сидит."));

        addFeature("PROB", "частица вероятности", "ихтимал кисәкчәсе",
                "Придаёт значение предположения или вероятности.",
                Arrays.asList("-дыр", "-дер", "-тыр", "-тер"),
                Arrays.asList("Барадыр — Наверное, идёт."));

        addFeature("PSBL", "суффикс возможности/отглагольное существительное", "-лык/-лек кушымчасы",
                "Образует существительные со значением качества или возможности.",
                Arrays.asList("-лык", "-лек", "-лык", "-лек"),
                Arrays.asList("Укучылык — Учёба."));

        addFeature("PST_DEF", "прошедшее определённое время", "үткән заман (билгеле)",
                "Сообщает о завершённом действии, очевидном для говорящего.",
                Arrays.asList("-ды", "-де", "-ты", "-те"),
                Arrays.asList("Мин бардым — Я сходил."));

        addFeature("RECP", "взаимный залог", "бер-береңә фигыль",
                "Показывает, что действие выполняется взаимно несколькими лицами.",
                Arrays.asList("-ыш", "-еш", "-ш"),
                Arrays.asList("Күрештеләр — Встретились друг с другом."));

        addFeature("REFL", "возвратный залог", "урын алмаштыру фигыль",
                "Показывает, что действие направлено на самого субъекта.",
                Arrays.asList("-ын", "-ен"),
                Arrays.asList("Юынды — Он умылся."));

        addFeature("Sg", "единственное число", "берлек сан",
                "Форма для обозначения одного предмета.",
                Arrays.asList("Ø"),
                Arrays.asList("Кыз килде — Пришла девушка."));

        addFeature("VN_1", "отглагольное существительное на -у/-ү", "-у/-ү исем фигыль",
                "Образует имена действия.",
                Arrays.asList("-у", "-ү", "-в"),
                Arrays.asList("Язу кызык — Писать интересно."));
    }

    private static void addFeature(String code, String titleRu, String titleTt, String descriptionRu, List<String> forms, List<String> examples) {
        FEATURE_MAP.put(code, new FeatureMetadata(code, titleRu, titleTt, descriptionRu, forms, examples));
    }

    public static String formatPos(String code) {
        if (code == null) return "";
        String[] names = POS_MAP.get(code);
        if (names == null) return code;
        return names[0] + " / " + names[1];
    }

    public static FeatureMetadata getFeatureMetadata(String code) {
        return FEATURE_MAP.get(code);
    }
}
